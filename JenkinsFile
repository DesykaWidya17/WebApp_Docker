pipeline {
    agent any

    stages {
        stage('Test Environment') {
            steps {
                echo 'üîç Checking environment...'
                bat '''
                echo ===== SYSTEM INFO =====
                echo Current directory: %CD%
                echo Jenkins running on: %COMPUTERNAME%
                echo ===== GIT VERSION =====
                git --version
                echo ===== NODE & NPM CHECK =====
                where node
                where npm
                node -v || echo Node.js not found
                npm -v || echo npm not found
                '''
            }
        }

        stage('Dummy Build') {
            steps {
                echo 'üèóÔ∏è Simulating build step...'
                bat '''
                echo ===== BUILD START =====
                echo Building project simulation...
                echo Done.
                echo ===== BUILD END =====
                '''
            }
        }

        stage('Dummy Test') {
            steps {
                echo 'üß™ Running sample test...'
                bat '''
                echo ===== START TEST =====
                echo All tests passed successfully!
                echo ===== END TEST =====
                '''
            }
        }

        stage('Deploy Simulation') {
            steps {
                echo 'üöÄ Simulating deploy...'
                bat 'echo Deployment successful!'
            }
        }
    }

    post {
        success {
            echo '‚úÖ Test pipeline ran successfully!'
        }
        failure {
            echo '‚ùå Test pipeline failed. Check logs!'
        }
    }
}
